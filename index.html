<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SMC Trading Tool (Long Only)</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
        body { font-family: Arial; max-width: 1000px; margin: 0 auto; padding: 20px; }
        .chart-container { height: 500px; margin: 20px 0; }
        .signal { background: #f0f0f0; padding: 10px; margin: 10px 0; border-left: 4px solid #4CAF50; }
        button { padding: 8px 15px; background: #4CAF50; color: white; border: none; cursor: pointer; }
        select { padding: 8px; }
    </style>
</head>
<body>
    <h1>SMC Trading Tool (4H Demand Zones)</h1>
    
    <div>
        <select id="symbol">
            <option value="BTCUSDT">BTC/USDT</option>
            <option value="ETHUSDT">ETH/USDT</option>
            <option value="BNBUSDT">BNB/USDT</option>
        </select>
        <button id="loadBtn">Load Chart</button>
        <button id="scanBtn">Scan Signals</button>
    </div>
    
    <div class="chart-container">
        <canvas id="priceChart"></canvas>
    </div>
    
    <div id="signals">
        <h3>Long Signals (4H Demand Zone Retest)</h3>
        <div id="signalList"></div>
    </div>

    <script>
        // Global variables
        let priceChart;
        const timeframe = '4h';
        
        // Initialize
        document.getElementById('loadBtn').addEventListener('click', loadChart);
        document.getElementById('scanBtn').addEventListener('click', scanSignals);
        
        // Load chart data
        async function loadChart() {
            const symbol = document.getElementById('symbol').value;
            try {
                const response = await axios.get(`https://api.binance.com/api/v3/klines?symbol=${symbol}&interval=${timeframe}&limit=50`);
                const candles = response.data.map(c => ({
                    time: new Date(c[0]),
                    open: parseFloat(c[1]),
                    high: parseFloat(c[2]),
                    low: parseFloat(c[3]),
                    close: parseFloat(c[4])
                }));
                
                renderChart(candles);
            } catch (error) {
                alert('Error loading data. Try again later.');
            }
        }
        
        // Render chart
        function renderChart(candles) {
            const ctx = document.getElementById('priceChart').getContext('2d');
            
            if (priceChart) priceChart.destroy();
            
            priceChart = new Chart(ctx, {
                type: 'candlestick',
                data: {
                    labels: candles.map(c => c.time.toLocaleDateString()),
                    datasets: [{
                        data: candles.map(c => ({
                            x: c.time,
                            o: c.open,
                            h: c.high,
                            l: c.low,
                            c: c.close
                        })),
                        color: {
                            up: '#4CAF50',
                            down: '#F44336'
                        }
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });
        }
        
        // Scan for signals
        function scanSignals() {
            document.getElementById('signalList').innerHTML = '<p>No signals found yet. Implement your SMC logic here.</p>';
            // Add your SMC signal detection logic here
        }
    </script>
</body>
</html>
